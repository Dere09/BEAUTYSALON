<%- include('partials/header', { title: 'Customer List' , navActive: 'dashboard' }) %>
  <%- include('partials/sidebar', { path: '/dashboard' }) %>

    <div class="main-content">
      <style>
        /* Card Container */
        .cards {
          display: flex;
          flex-wrap: wrap;
          gap: 20px;
          justify-content: flex-start;
          max-height: 600px;
          overflow-y: auto;
          padding: 15px;
          border: 1px solid #eee;
          border-radius: 12px;
          background: white;
          box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
        }

        .customer-card {
          background: white;
          border-radius: 12px;
          padding: 20px;
          width: 220px;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
          transition: all 0.3s ease;
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          text-decoration: none;
          color: inherit;
          border: 1px solid transparent;
        }

        .customer-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
          border-color: #cc3366;
          background-color: #fdfdfd;
        }

        .customer-card .icon {
          font-size: 40px;
          color: #cc3366;
          margin-bottom: 15px;
        }

        .customer-card p {
          font-size: 14px;
          margin: 5px 0;
        }

        .highlight {
          font-weight: 600;
          color: #cc3366;
        }

        h2 {
          font-family: 'Playfair Display', serif;
          color: #cc3366;
          margin-bottom: 30px;
          text-align: center;
        }

        /* Scrollbar styling */
        .cards::-webkit-scrollbar {
          width: 8px;
        }

        .cards::-webkit-scrollbar-thumb {
          background-color: #ddd;
          border-radius: 10px;
        }

        .cards::-webkit-scrollbar-track {
          background-color: #f9f9f9;
        }

        @media (max-width: 768px) {
          .customer-card {
            width: 100%;
            max-width: 320px;
          }

          .cards {
            justify-content: center;
            max-height: none;
          }
        }
      </style>

      <h2><i class="fas fa-users"></i> Registered and Waiting Clients</h2>

      <% if (registrations.length===0) { %>
        <div class="content-box" style="text-align: center; padding: 50px;">
          <i class="fas fa-user-slash fa-3x" style="color: #ddd; margin-bottom: 20px;"></i>
          <p>No registrations found.</p>
        </div>
        <% } else { %>
          <div class="cards">
            <% registrations.forEach(reg=> { %>
              <a href="/serviceoffer/<%= reg.registrationId %>" class="customer-card">
                <div class="icon"><i class="fas fa-user-circle"></i></div>
                <p><span class="highlight">Name:</span><br>
                  <%= reg.fullName %>
                </p>
                <p><span class="highlight">Phone:</span><br>
                  <%= reg.phone %>
                </p>
                <p><span class="highlight">Reg ID:</span><br>
                  <%= reg.registrationId %>
                </p>
                <p><span class="highlight">Date:</span><br>
                  <%= new Date(reg.regdate).toLocaleDateString() %>
                </p>
              </a>
              <% }) %>
          </div>
          <% } %>
    </div>

    <%- include('partials/footer') %>